---
title: 动态规划典型例题
updated: 2022-08-09 06:26:09Z
created: 2019-09-29 15:20:40Z
---


#### 例1 合并石子

在一个操场上一排地摆放着Ｎ堆石子。现要将石子有次序地合并成一堆。规定每次只能选相邻的２堆石子合并成新的一堆，并将新的一堆石子数记为该次合并的得分。
计算出将Ｎ堆石子合并成一堆的最小得分。
输入样例：
4
3 7 8 1
输出样例：
38



<br>
递归实现：

```C++
long long minScore( int m, int n )  // 返回合并a[m..n]的石子的最小得分
{
    if (m == n)
        return 0;

    long long ans = 999999999999999;
    long long tot = 0;
    for (int i = m; i <= n; i++)
        tot += a[i];
    for (int k = m + 1; k <= n; k++)
    {
        long long l = minScore(m, k - 1);
        long long r = minScore(k, n);
        ans = min(ans, l + r + tot);
    }
    return ans;
}
```

递推实现：

```c++
for (int x = 0; x < n; x++)
    {
        for (int i = 1; i <= n - x; i++)
        {
            int j = i + x;

            if (i == j)
                f[i][j] = 0;
            else
            {
                long long tot = 0;
                for (int x = i; x <= j; x++)
                    tot += a[x];

                for (int k = i + 1; k <= j; k++)   
                {
                    f[i][j] = min(f[i][j], f[i][k - 1] + f[k][j] + tot);
                }
            }
        }
    }
```

#### 例2 乘积最大
今年是国际数学联盟确定的“2000——世界数学年”，又恰逢我国著名数学家华罗庚先生诞辰90周年。在华罗庚先生的家乡江苏金坛，组织了一场别开生面的数学智力竞赛的活动，你的一个好朋友XZ也有幸得以参加。活动中，主持人给所有参加活动的选手出了这样一道题目：

设有一个长度为N的数字串，要求选手使用K个乘号将它分成K+1个部分，找出一种分法，使得这K+1个部分的乘积最大。

同时，为了帮助选手能够正确理解题意，主持人还举了如下的一个例子：

有一个数字串：312， 当N=3，K=1时会有以下两种分法：

1）3*12=36

2）31*2=62

这时，符合题目要求的结果是：31*2=62。

现在，请你帮助你的好朋友XZ设计一个程序，求得正确的答案。

>状态：
$f(i, j, x)$ 表示 第 $i$ 个数字到第 $j$ 个数字使用 $x$ 个乘号所能得到的成绩最大值。

>转移方程：
$f(i, j, x)=\max \{f(i, k, x - 1) \times a[k + 1][j]\}$, 其中$i \le k < j,  a[k + 1][j]表示第k + 1个数字到第j个数字组成的数$。

>边界条件：
$f(i, k, 0) = a[i][k]$

#### 例3 复制书稿(book)
【题目描述】
现在要把m本有顺序的书分给k个人复制（抄写），每一个人的抄写速度都一样，一本书不允许给两个（或以上）的人抄写，分给每一个人的书，必须是连续的，比如不能把第一、第三和第四本书给同一个人抄写。

现在请你设计一种方案，使得复制时间最短。复制时间为抄写页数最多的人用去的时间。

【输入】
第一行两个整数m，k；（k≤m≤500）

第二行m个整数，第i个整数表示第i本书的页数。

【输出】
共k行，每行两个整数，第i行表示第i个人抄写的书的起始编号和终止编号。k行的起始编号应该从小到大排列，如果有多解，则尽可能让前面的人少抄写。

【输入样例】
9 3			
1 2 3 4 5 6 7 8 9
【输出样例】
1 5
6 7
8 9