枚举分割点 $i$，分别找出 $1\sim i $ 和 $i + 1 \sim n$ 中异或和最大的子区间，两者和的最大值便是问题的答案。现在我们讨论如何求出 $1 \sim i$ 中的最大异或和子区间。

记 $S[i] = a_1 \wedge a_2 \cdots \wedge a_i$。

借助异或和的性质：$a_i \wedge a_{i + 1} \wedge \cdots a_j = S[i - 1] \wedge S[j]$。我们只需计算 $S_i$ 与 $S_1, S_2, \cdots, S_{i - 1}$ 中的一个能得到的最大异或值，便可以得到右端点为 $i$ 的子区间的最大异或值 $L[i]$。那么 $L[1], L[2], \cdots, L[i]$ 中的最大值便是 $1 \sim i$ 中子区间能得到的最大异或值。