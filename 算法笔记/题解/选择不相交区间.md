---
title: 选择不相交区间
updated: 2023-09-21 01:13:37Z
created: 2023-09-21 00:33:24Z
latitude: 30.57281600
longitude: 104.06680100
altitude: 0.0000
---

### 选择不相交区间
>数轴上有 $n$ 个开区间 $a_i$, 其范围为 $(l_i, r_i)$。选择尽量多个区间，使得这些区间两两没有公共点，这些区间称为最大兼容区间。

作为不影响答案的一个处理，我们将所有的区间按照右端点从小到大的顺序进行排序。我们可以很容易的验证该问题具有最有子结构的特点，用 $S_{ij}$表示在 $a_i$ 结束之后，$a_j$ 结束之前的活动集合，假设 $S_{ij}$ 的最优活动选择中包含区间 $a_k$，那么，我们应该在 $S_{ik}$ 和 $S_{kj}$ 找到最优的活动选择，再加上 $a_k$。得到 $S_{ij}$ 的最有活动选择。


1.将所有的区间按照 $b_i$ 从小到大的顺序进行排列。

2.将排在第一的区间纳入我们的选择。（这是我们的贪心选择）

3.接下来我们只需在剩下的且与已选区间相容的区间中重复操作，直到处理完所有区间。

<img width="50%" src="/problem/11/testdata/download/0x07.png" /> 	

证明：考虑任何一个非空子问题 $S_k$，令 $a_m$ 是 $S_k$ 中结束最早的活动，设 $A_k$ 是 $S_k$ 的一个最大兼容活动子集， 假设 $a_m$ 不在 $A_k$ 中，且 $a_j$ 是 $A_k$ 中最早结束的活动。那么，我们可以将 $a_m$ 替换成 $a_j$，因为 $a_m$ 的结束时间不晚于 $a_j$，故 $a_m$ 不会和 $A_k$ 中的其它活动冲突，故替换后的集合依然是一个最大兼容子集。可以证明我们的贪心选择可以得到一个最优的结果。