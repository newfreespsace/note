---
updated: 2022-11-17 01:36:56Z
created: 2022-11-09 01:09:39Z
latitude: 34.77320000
longitude: 113.72200000
altitude: 0.0000
---

1. 重述题意
注意到我们可以交换相邻的 $(A_i, B_i)$ 和 $(A_{i + 1}, B_{i+1})$ 任意多次， 所以可以将这 $N$ 对 $(A_i, B_i)$ 以任意顺序排列，因此，这个问题可以重新表述为：
* 我们自由的调整 $N$ 对 $(A_i, B_i)$，然后对这 $2N$ 个数$(A_1, \cdot, A_N)$，$(B_1, \cdot, B_N$ 中的一些进行标记。所有标记过的 $A_i$ 是递增的，所有标记过的 $B_I$ 也是递增的。找到能够标记的最多的数。

2. 最优解的结构
我们可以证明如下结论：
>存在着一个最优解，标记了所有的 $A_i$。

首先，如果存在着一个 $i$ 满足 $A_i$ 、$B_i$ 均未被标记，那么，可以将 $(A_i, B_i)$ 插入到一个合适的位置然后标记 $A_i$，从而有更多的标记数。

因此，我们可以得知在最优解中，$A_i$ 和 $B_i$ 至少会标记一个。

和上面类似，我们也可以证明存在一个最优解标记了所有的 $A_i$。如果有一个最优解没有标记 $A_i$，那么，我们可以这一对数插入到合适的位置，然后取消 $B_i$ 的标记，并将 $A_i$ 打上标记。重复前面的步骤直到所有的 $A_i$ 均被标记。

3. 如何解决这个问题
一个可以得到问题答案的解决步骤如下：
* 按 $A_i$ 从小到大的顺序对这 $N$ 对数 $(A_i, B_i)$ 进行排序。
* 答案就是 $N + \text{LIS}(B)$。



