---
title: 排列组合
updated: 2023-09-12 03:41:12Z
created: 2023-09-12 03:40:07Z
latitude: 30.57281600
longitude: 104.06680100
altitude: 0.0000
---

#### 加法原理
若完成一件事的方法有 $n$ 类, 其中第 $i$ 类方法包括 $a_{i}$ 种不同的方法, 且这些方法互不重合, 则完成这件事共有 $a_{1}+a_{2}+\cdots+a_{n}$ 种不同的方法。

#### 乘法原理
若完成一件事需要 $n$ 个步骤, 其中第 $i$ 个步骤有 $a_{i}$ 种不同的完成方法, 且这些步骤互不干扰, 则完成这件事共有 $a_{1} * a_{2} * \cdots * a_{n}$ 种不同的方法。

#### 排列数
从 $n$ 个不同元素中依次取出 $m$ 个元素排成一列, 产生的不同排列的数量为: $A_{n}^{m}\left(\right.$ 也可记作 $\displaystyle \left.P_{n}^{m}\right)=\frac{n !}{(n-m) !}=n *(n-1) * \cdots *(n-m+1)$

#### 组合数
从 $n$ 个不同元素中取出 $m$ 个组成一个集合 (不考虑顺序), 产生的不同集合数量为:
$$
C_{n}^{m}=\displaystyle \frac {A_{n}^{m}} {m!} = \frac{n !}{m !(n-m) !}=\frac{n *(n-1) * \cdots *(n-m+1)}{m *(m-1) * \cdots * 2 * 1}
$$
#### 性质
1. $C_{n}^{m}=C_{n}^{n-m}$
2. $C_{n}^{m}=C_{n-1}^{m}+C_{n-1}^{m-1}$
3. $C_{n}^{0}+C_{n}^{1}+C_{n}^{2}+\cdots+C_{n}^{n}=2^{n}$
4. $\sum_{k=0}^{m} C_{n+k}^{k}=C_{n+m+1}^{m}$

##### 捆绑法——处理相邻问题
1. 求 $7$ 的排列中偶数必相邻的排列种数。

2. 求 $7$ 的排列中偶数互不相邻的排列种数.


##### 插空法——处理不相邻问题
* $6$ 个不同物品放在九个相同容器里, 每个容器只能放入最多一个物品, 每个空容器两边都有物品, 求方案数。


##### 挡板法——处理相同元素分组问题
* 将 $8$ 个相同物品放入 $3$ 个不同容器, 每个容器至少放一个物品, 求方案数。

##### 特殊元素特殊位置优先考虑——处理含特殊条件问题
* $7$ 个元素排列, 其中两个元素 $A$, $B$ 特殊, (1) 求 $A$, $B$ 只能放在两端的排法. (2) 求 $A$, $B$ 不能放在两端的排法。

##### 不同元素分组问题
* 求将 $1, 2, 3, 4, 5, 6$ 分为 $3$ 组的分组方法。


##### 倍缩法
* $6$ 个人分为 $3$ 组，每组 $2$ 人，求不同的分组方法.

##### 间接——解正向求解不显然问题
* 对于正向求解不显然的问题, 可以考虑反向求解, 用总方案扣除不符合要求的方案.

#### 不定方程 $x_1 + x_2 + \cdots + x_k=r$ 的 正整数解
我们考虑这样一个模型：将排成一条直线的 $r$ 个相同小球分成 $n$ 份。每份至少一个小球，份与份之间要考虑顺序，比如 $5$ 个小球分成 $1、1、3$ 的三份和分成 $3、1、1$ 的三份，是不一样的分法。

对于这个问题，我们采用隔板法，在这 $r$ 个小球中插入 $k - 1$ 个隔板，从而将小球分为了 $k$ 份。不同的方法数为 $C_{r-1}^{k-1}$。

#### 不定方程 $x_1 + x_2 + \cdots + x_k=r$ 的 非负整数解
只需将问题等价转换为 $(x_1+1) + (x_2+1) + \cdots + (x_k+1)=r + k$。

即 $y_1 + y_2 + \cdots + y_k=r+k$ 的正整数解的个数。方案数为 $C_{r + k-1}^{k-1}$。故原问题的解也是 $C_{r + k-1}^{k-1}$。

#### 多重集

多重集是指包含重复元素的广义集合。设 $S= \{ n_1\cdot a_1, n_2 \cdot a_2, \cdots , n_k \cdot a_k \}$ 表示由 $n_1$ 个 $a_1$, $n_2$ 个 $a_2$, $\cdots$,  $n_k$ 个 $a_k$ 组成的多重集。

##### 多重集$S$ 的全排列个数为
$$\frac{n!} {\prod_{i=1}^kn_i!} = \frac{n!}{n_1!n_2!\cdots n_k!}$$

多重集的排列数常被称为多重组合数，我们可以用多重组合数的符号表示上式：
$$\binom n {n_1, n_2, \dots, n_k}$$

##### 多重集的组合数1
从 $S$ 中选择 $r$ $(r \le n_i, \forall i \in [1, k])$个元素组成一个多重集的方案数为
$$\binom{r + k - 1}{k - 1}$$

#### 不相邻的排列
$1 \sim n$ 这 $n$ 个自然数中选 $k$ 个，这 $k$ 个数中任何两个数都不相邻的组合方案数为
$$ \binom {n - k + 1}{k}$$

#### 错位排列
> $n$ 封不同的信，编号分别是 $1, 2, \cdots, n$ ，现在要把这 $n$ 封信放在编号 $1, 2, \cdots, n$ 的信封中，要求信封的编号与信的编号不一样。问有多少种不同的放置方法？

我们用 $f(n)$ 表示 $n$ 个元素的错排数。

分两种情况讨论：

* 前面 $n - 1$ 个信封全部装错；情况数为 $f(n - 1)$
* 前面 $n - 1$ 个信封有一个没有装错其余全部装错；  情况数为$(n -1 ) \times f(n - 2)$

再考虑第 $n$ 个信封时，对于情况 $1$，我们只需用第 $n$ 个信封与前面任意一个信封交换即可，情况总数为 $(n - 1) \times f(n - 1)$，对于第二种情况，我们需用第 $n$ 个信封与前面没放错位置的信封交换。

故递推关系为 $f(n) = (n - 1) \times [f(n - 1) + f(n - 2)]$ 


#### 圆排列

$n$ 个人中选 $r$ 个围成一圈，所有的排列数记为 $Q_n^r$。

$$Q_n^r=\frac {A_n^r}r = \frac {n!}{r \times (n - r)!}$$