问题可表述为至少存在一对相邻的房间，它们的宗教一样，这样的问题使用间接计算的方法更方便。本题可用所有的情况数减去相邻的房间宗教不一样的情况数 ，便是问题的答案。

 当没有限制的时候，每个房间有 $m$ 种选择，一共有 $n$ 个房间，所以总共有 $m^n$ 中情况。

当限制相邻的房间宗教不一样的时候，我们依次确定每个房间的选择数，第一个房间有 $m$ 种选择，后面的房间因不能和其左边的房间有一样的宗教，故只有 $m - 1$ 种选择，总共的选择数为 $m \times (m - 1)^{n - 1}$。

最终，问题的答案为 $m^n - m \times (m - 1)^{n-1}$。



