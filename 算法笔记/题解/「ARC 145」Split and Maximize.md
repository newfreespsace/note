要得到最大的得分，我们需 1 和 2 配对，3 和 4 配置，$\cdots $，$2p-1$ 和 $2p$ 配对。我们称这些配对的元素互为朋友。

对于任意一个合法的序列，我们交换两个朋友的位置，序列依然合法，故我们可以限制序列中 $2p-1$ 出现在 $2p$ 之前，最后，合法的序列数再乘上 $2^n$ 即可。

对于任意一个合法的序列，我们同时交换 $2x-1$ 与 $2y-1$，$2x$ 与 $2y$ 的位置，所得到的序列依然合法，故我们可以限制 $x < y$ 时，$2x-1$ 要出现在 $2y - 1$ 之前。要保证朋友能够正确配对，自然 $2x$ 要早于 $2y$ 出现。最后，合法的序列数再乘上 $n!$ 即可。

因此，本题可以重新表述为：

求 $1 \sim 2n$ 的一个排列，要求所有的奇数按从小打到的顺序排列，所有的偶数按从小到大的顺序排列，并且 $2p - 1$ 要出现在 $2p$ 之前。

上面的排列数为 $\text{Cat}_n$。故本题的答案为 $2^n \times n! \times \text{Cat}_n$。 