---
title: 分治0
updated: 2022-08-09 06:26:09Z
created: 2019-09-10 13:23:31Z
---

---
marp: true
<!-- $size: 4:3 -->
<!-- page_number: true -->
---
[toc]
####分治

在一个名叫 ”猜数字“ 的游戏中，我们的目标是用尽可能少的次数猜中一个预先给定的数，此数的范围是1~1000，当我们猜了一个数提交给计算机以后，程序会反馈给我们3种结果：
1.“你猜的数字太大了，试着猜一个小一点的数字。”
2.“你猜的数字太小了，试着猜一个大一点的数字。”
3.“bingo，恭喜，你猜中了正确的结果。在本次游戏中，你一共尝试了...次。”
现在，我们试着玩一下这个游戏，思考一下我们游戏的策略。


---
#####例1（求和）
求一个长度为n的数列的和。
```c++
int sum(int l, int r) // 返回数列[l..r]的和
{
    if (l == r)
        return a[l];

    int mid = (l + r) / 2;
    return sum(l, mid) + sum(mid + 1, r);
}

// 通过sum(1, n)调用  
```
---
#####例2（查找数）
给出一个长度为 $n$ 的单调递增数列，判断数 $x$是否在序列中，若在的话输出“YES”，否则输出“NO”；

#####例3（解方程）
求方程$f(x)=2^x + 3^x - 4^x =0$ 在区间[1，2]内的根。精确到0.01。



#####例4（二分查找）
给出一个长度为n的单调不减的正整数序列，即序列中每一个数不小于前一个数。查询一个数value，返回序列中第一个不小于（即大于或等于）value的元素的位置，我们从1开始计数。

考虑序列：
|i|1|2|3|4|5|6|7|8|9|
|:-|:-|-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
|a[i]|-3|1|2|3|3|5|5|6|7|

#####

#####例5（快速幂）
// 测试数据 加入
输入$b，p，k$的值，求$b^p\mod k$的值。其中$b，p，k \times k$为长整型数。

分析：直接算的话复杂度$O(p)$，当 $p$ 很大时会超时。
注意：即使是我们直接算，也需要注意技巧，**边算边取模**。
```c++
long long ans = 1;
void solve()
{
    for (int i = 1; i <= p; i++)
    {
        ans *= b;
        ans %= k;
    }  
}
```
现在我们看快速幂的处理办法，考虑计算 $2^{10}$

$2^{10} = (2^5)^2$ 所以$f(10) = f(5) + 1$
$2^5=(2^4) \times 2$ 所以$f(5)=f(4) + 1$
$2^4=(2^2)^2$ 所以$f(4)=f(2) + 1$
$f(2) = 1$
所以$f(10)=4$


递归实现：
```c++
long long solve(int n)   //求a的n次方
{ 
    if (n == 0)
        return 1 % k;

    long long tmp = solve(n / 2);
    if (n % 2 == 0)
        return （ tmp * tmp ）% k;

    return ( tmp * tmp) * b % k;
}
```


#####例6（快速排序）

```c++
int partition(int l, int r)
{
    int x = A[r];
    int i = l - 1;
    for (int j = l; j < r; j++)
    {
        if (A[j] <= x)
        {
            i++;
            if (i != j)
                swap(A[i], A[j]);
        }
    }
    swap(A[i + 1], A[r]);

    return i + 1;
}

void quickSort(int l, int r)
{
    if (l < r)
    {
        int q = partition(l, r);
        quickSort(l, q - 1);
        quickSort(q + 1, r);
    }
}
```




#####例7（二分答案）
![](../../../_resources/1.png)
* 答案具有单调性


http://ybt.ssoier.cn:8088/problem_show.php?pid=1242











