---
title: 区间贪心
updated: 2022-08-09 06:26:06Z
created: 2021-12-23 09:32:39Z
---

### 选择不相交区间
>数轴上有 $n$ 个开区间 $(a_i, b_i)$。选择尽量多个区间，使得这些区间两两没有公共点。

1.将所有的区间按照 $b_i$ 从小到大的顺序进行排列。

2.将排在第一的区间纳入选择。（这是贪心选择）

3.接下来只需在剩下的且与已选区间相容的区间中重复操作，直到处理完所有区间。



#### 证明

设集合$S=\{p_1, p_2, \cdots, p_r  \}  $是按照贪心选择得出的解，其中 $p_1, p_2, \cdots p_r$ 已按照右端点从小到大排序。集合$A=\{q_1,q_2,\cdots, q_t \}$是某个最优解，其中 $q_1, q_2, \cdots q_r$ 已按照右端点从小到大排序。现只需证明$r = t$ 即可得到贪心解为最优解的其中一个。

###### 初始条件

注意到$p_1$ 是所有区间中右端点最小的一个。那么 $p_1$ 的右端点小于等于 $q_1$ 的右端点，又 $q_1$ 的右端点小于等于 $q_2$ 的左端点（因为$A$是一个相容的区间）。故我们可以将集合 $A$ 中的 $q_1$ 替换成 $p_1$,因为依然满足 $A$ 中的区间依然两两没有公共点且集合元素个数没有改变，故替换后得到的集合依然是一个最优解。

###### 递推

假设已经用  $p_1, p_2, \cdots, p_i$ 对集合 $A$ 中的前 $i$ 个元素进行了替换。这样，集合 $A$ 的变成了 $A^{'}=\{p_1,p_2,\cdots,p_i, q_{i+1}, \cdots, q_t \}$，且依然是最优解。

现考虑 $p_{i+1}$，它是剩余的且相容的区间中右端点最小的，故依然可以用 $p_{i+1}$对$q_{i+1}$进行替换。

###### 结论

最终，因为A是最优解，所以 $t \ge r$。但按照上面的递推，A最终变成了 $A^{'}=\{p_1,p_2,\cdots,p_r, q_{r+1}, \cdots, q_t \}$。但 $\{q_{r+1}, \cdots, q_t \}$这些区间依然可以放在集合A中，故有 $t == r$。











### 区间选点问题
>数轴上有 $n$ 个闭区间 $[a_i, b_i]$。取尽量少的点，使得每个区间内都至少有一个点（不同区间内含的点可以是同一个）。

1.将所有的区间按照 $b_i$ 从小到大的顺序进行排列。

2.将排在第一的区间的右端点纳入我们的选择。（这是我们的贪心选择）

3.接下来我们只需去掉包含已选端点的区间，在剩下的区间中重复操作，直到处理完所有区间。

### 区间覆盖问题
>数轴上有 $n$ 个闭区间 $[a_i, b_i]$，选择尽量少的区间覆盖一条指定线段 $[s,t]$。

1.将所有区间按照 $a_i$ 从小到大的顺序进行排列。

2.寻找满足 $a_i \le s$，且 $b_i$ 最大的区间，记该区间对应的 $b_i$ 为 $y_0$。（这是我们的贪心选择）

3.在后面的区间中，不断寻找满足 $a_i \le y_0$，且 $b_i$ 最大的区间。将该区间的右端点值赋给 $y_0$。直到 $y_0 \ge t$ 结束循环。


